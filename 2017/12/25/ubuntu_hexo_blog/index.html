<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>ubuntu下用hexo搭建静态博客 | RoyceLee&#39;s blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="hexo是基于nodejs开发的一款静态博客的框架，搭建时比较麻烦，如果需要放到网上，则需要配合github一起使用。因此搭建博客环境，需要用到nodejs、hexo、git，同时博文是使用markdown语法来写的，所以需要对markdown语法有一定的了解。">
<meta name="keywords" content="nodejs">
<meta property="og:type" content="article">
<meta property="og:title" content="ubuntu下用hexo搭建静态博客">
<meta property="og:url" content="http://whutlichao.github.io/2017/12/25/ubuntu_hexo_blog/index.html">
<meta property="og:site_name" content="RoyceLee&#39;s blog">
<meta property="og:description" content="hexo是基于nodejs开发的一款静态博客的框架，搭建时比较麻烦，如果需要放到网上，则需要配合github一起使用。因此搭建博客环境，需要用到nodejs、hexo、git，同时博文是使用markdown语法来写的，所以需要对markdown语法有一定的了解。">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2017-12-25T03:57:03.891Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ubuntu下用hexo搭建静态博客">
<meta name="twitter:description" content="hexo是基于nodejs开发的一款静态博客的框架，搭建时比较麻烦，如果需要放到网上，则需要配合github一起使用。因此搭建博客环境，需要用到nodejs、hexo、git，同时博文是使用markdown语法来写的，所以需要对markdown语法有一定的了解。">
  
    <link rel="alternate" href="/atom.xml" title="RoyceLee&#39;s blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">RoyceLee&#39;s blog</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Rumours find no credence with a wise man</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="Flux RSS"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Rechercher"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://whutlichao.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-ubuntu_hexo_blog" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/12/25/ubuntu_hexo_blog/" class="article-date">
  <time datetime="2017-12-25T03:57:03.891Z" itemprop="datePublished">2017-12-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      ubuntu下用hexo搭建静态博客
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>hexo是基于nodejs开发的一款静态博客的框架，搭建时比较麻烦，如果需要放到网上，则需要配合github一起使用。因此搭建博客环境，需要用到nodejs、hexo、git，同时博文是使用<br>markdown语法来写的，所以需要对markdown语法有一定的了解。</p>
<a id="more"></a> 
<h2 id="安装git"><a href="#安装git" class="headerlink" title="安装git"></a>安装git</h2><p>1、apt-get直接在线安装<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get install git</span><br></pre></td></tr></table></figure></p>
<p>   检查下是否安装成功：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git --version</span><br></pre></td></tr></table></figure></p>
<p>2、配置用户名及email，否则后面在部署到github上时会报错<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name <span class="string">"XXXXX"</span></span><br><span class="line">git config --global user.email <span class="string">"XXXXX"</span></span><br></pre></td></tr></table></figure></p>
<h2 id="安装nodejs"><a href="#安装nodejs" class="headerlink" title="安装nodejs"></a>安装nodejs</h2><p>1、卸载ubuntu自带的nodejs和npm<br>   我的ubuntu版本是16.04LTS，本身自带的有nodejs和npm，自带的nodejs版本过低，且路径过于分散，不利用管理，所以我决定手动安装nodejs<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get remove nodejs &amp;&amp; sudo apt-get remove npm</span><br></pre></td></tr></table></figure></p>
<p>   清理下依赖包<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get autoremove</span><br></pre></td></tr></table></figure></p>
<p>2、官网下载nodejs<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /opt &amp;&amp; wget https://nodejs.org/dist/v4.4.5/node-v4.4.5-linux-x64.tar.xz</span><br><span class="line">xz -d node-v4.4.5-linux-x64.tar.xz &amp;&amp; tar vxf node-v4.4.5-linux-x64.tar</span><br></pre></td></tr></table></figure></p>
<p>3、配置环境变量<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vi /etc/profile</span><br></pre></td></tr></table></figure></p>
<p>   文件最后加上<br>   export PATH=$PATH:/opt/node-v4.4.5-linux-x64/bin<br>   同步文件使环境变量生效<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> /etc/profile</span><br></pre></td></tr></table></figure></p>
<p>4、测试安装<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node --version &amp;&amp; npm --version</span><br></pre></td></tr></table></figure></p>
<h2 id="安装hexo"><a href="#安装hexo" class="headerlink" title="安装hexo"></a>安装hexo</h2><p>1、在线安装cnpm<br>   由于npm使用国外站点下载hexo速度太慢，经常网络错误而使下载终断，所以我决定用cnpm在淘宝镜像上下载hexo<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install -g cnpm --registry=https://registry.npm.taobao.org</span><br><span class="line">cnpm --version</span><br></pre></td></tr></table></figure></p>
<p>2、在线安装hexo-cli<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm install -g hexo-cli</span><br></pre></td></tr></table></figure></p>
<p>   经过一长串刷屏后就done了，检查是否安装成功<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo --version</span><br></pre></td></tr></table></figure></p>
<h2 id="构建静态blog"><a href="#构建静态blog" class="headerlink" title="构建静态blog"></a>构建静态blog</h2><p>1、初始化blog本地路径<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /home/lc/workspace/blog &amp;&amp; hexo init</span><br></pre></td></tr></table></figure></p>
<p>2、生成node_modules<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install</span><br></pre></td></tr></table></figure></p>
<p>3、生成本地博客并测试<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo g</span><br><span class="line">hexo server</span><br></pre></td></tr></table></figure></p>
<p>   在浏览器输入<a href="http://localhost:4000，如果出现hexo标准页面，恭喜你，本地博客已经搭建完成" target="_blank" rel="noopener">http://localhost:4000，如果出现hexo标准页面，恭喜你，本地博客已经搭建完成</a></p>
<h2 id="部署到github"><a href="#部署到github" class="headerlink" title="部署到github"></a>部署到github</h2><p>1、申请github帐户，www.github.com，这里就不罗嗦了，不会英文可以百度翻译。</p>
<p>2、新建一个Repository，仓库名称为”your_github_username.github.io”，固定使用这个写法，不然会404</p>
<p>3、修改/home/lc/workspace/blog下的_config.yml文件，关联2中新建github仓库<br>   deploy:<br>     type: git<br>     repository: git@github.com:your_github_username/your_github_username.github.io.git<br>     branch: master<br>   其中repository有两种方式，一种是https的方式，一种是ssh的方式，由于我使用https方式时，使用用户名密码进行提交时鉴权各种通不过，所以我使用ssh方式提交代码。</p>
<p>4、生成ssh鉴权公私钥<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ssh-keygen -t rsa -C <span class="string">"emailaddress@example.com"</span></span><br></pre></td></tr></table></figure></p>
<p>   一路回车后，会在用户目录下生成.ssh的目录，里面有两个文件id_rsa，这是私钥，保存好；别一个是id_rsa.pub，这是公钥，需要配置到github上<br>5、github配置公钥<br>   在githhub上setting&gt;SSH and GPG keys&gt;new SSH key，title随便写，能方便区别不同key就行，将id_rsa.pub文件中的内容复制到key中。<br>6、发布到github上<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo g &amp;&amp; hexo d</span><br></pre></td></tr></table></figure></p>
<p>   在浏览器中输入地址“your_github_username.github.io”，熟悉的页面是不是出现了。</p>
<h2 id="绑定域名"><a href="#绑定域名" class="headerlink" title="绑定域名"></a>绑定域名</h2><p>1、购买域名并增加域名解析<br>   我是在阿里云上买的域名，买域名的时候需要注意买国际域名，否则需要审批备案。在阿里云中对该域名新增解析，地址指向your_github_username.github.io。</p>
<p>2、hexo绑定域名<br>   在/home/lc/workspace/blog/public下新建一个文件CNAME，将购买的域名写入该文件，注意格式xxxxx.com，不需要www。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> /home/lc/workspace/blog &amp;&amp; hexo g &amp;&amp; hexl d</span><br></pre></td></tr></table></figure></p>
<p>   将CNAME push到github上，这样就可以用自己的域名访问博客了。</p>
<h2 id="更换主题"><a href="#更换主题" class="headerlink" title="更换主题"></a>更换主题</h2><p>hexo有很多开源主题可以使用，其中比较流行的是hexo-next。<br>1、下载hexo-theme-next到本地博客路径<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> /home/lc/workspace/blog &amp;&amp; git <span class="built_in">clone</span> https://github.com/iissnan/hexo-theme-next</span><br></pre></td></tr></table></figure></p>
<p>   下载完后在theme下就会看到多了一个next的目录。</p>
<p>2、配置主题<br>   在博客的配置文件_config.yml中，配置如下信息：<br>   theme: next<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> /home/lc/workspace/blog &amp;&amp; hexo g &amp;&amp; hexl d</span><br></pre></td></tr></table></figure></p>
<h2 id="其它配置"><a href="#其它配置" class="headerlink" title="其它配置"></a>其它配置</h2><p>   博客配置文件_config.yml中的一些配置<br>1、页面中文<br>   language: zh-Hans<br>2、主页头<br>   title: RoyceLee’s blog<br>3、描述，这个可以方便搜索引擎找到你的页面<br>   description: ×××××××××××××××××</p>
<h2 id="发布新博客"><a href="#发布新博客" class="headerlink" title="发布新博客"></a>发布新博客</h2><p>1、写博文<br>   如果很熟悉md语法的话，那就直接vi或者geditd直接写，如果不熟悉并且博客内容有一些图片等富文本内容时，则推荐一个md在线编辑器<a href="https://www.zybuluo.com/mdeditor" target="_blank" rel="noopener">cmd markdown</a><br>   在/home/lc/workspace/blog/source/的_posts目录中，新建一个md文件，可以直接编辑这个文件用md语法写博客，也可以在cmd markdown中编辑好复制进去。</p>
<p>2、发布<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> ../../ &amp;&amp; hexo g &amp;&amp; hexo d</span><br></pre></td></tr></table></figure></p>
<h2 id="标签页面"><a href="#标签页面" class="headerlink" title="标签页面"></a>标签页面</h2><p>1、新建一个页面<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new page <span class="string">"tags"</span></span><br></pre></td></tr></table></figure></p>
<p>2、编辑页面<br>   在source/tags/下配置index.md文件如下：<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: tags</span><br><span class="line">date: 2016-06-14 10:28:42</span><br><span class="line">type: "tags"</span><br><span class="line">---</span><br></pre></td></tr></table></figure></p>
<p>3、修改主题配置文件<br>   在主题的_config.yml文件中如下配置：<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">menu:</span><br><span class="line">home: /</span><br><span class="line"><span class="section">#categories: /categories</span></span><br><span class="line"><span class="section">#about: /about</span></span><br><span class="line">archives: /archives</span><br><span class="line"><span class="section"># tags菜单指向新建的面页</span></span><br><span class="line">tags: /tags</span><br><span class="line"><span class="section">#commonweal: /404.html</span></span><br></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://whutlichao.github.io/2017/12/25/ubuntu_hexo_blog/" data-id="cjblsf3a8000ybx3dd30qqt1w" class="article-share-link">Partager</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/nodejs/">nodejs</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2017/12/25/ubuntu_android-studio/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Récent</strong>
      <div class="article-nav-title">
        
          ubuntu安装android-studio
        
      </div>
    </a>
  
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Mot-clés</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/android/">android</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/framework/">framework</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java/">java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nodejs/">nodejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ubuntu/">ubuntu</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/框架/">框架</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Nuage de mot-clés</h3>
    <div class="widget tagcloud">
      <a href="/tags/android/" style="font-size: 20px;">android</a> <a href="/tags/framework/" style="font-size: 20px;">framework</a> <a href="/tags/java/" style="font-size: 20px;">java</a> <a href="/tags/linux/" style="font-size: 10px;">linux</a> <a href="/tags/nodejs/" style="font-size: 10px;">nodejs</a> <a href="/tags/ubuntu/" style="font-size: 10px;">ubuntu</a> <a href="/tags/框架/" style="font-size: 10px;">框架</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Articles récents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/12/25/android_virtual/">android虚拟化</a>
          </li>
        
          <li>
            <a href="/2017/12/25/design_patterns_2/">设计模式二——创建型模式</a>
          </li>
        
          <li>
            <a href="/2017/12/25/design_patterns_4/">设计模式四——行为模式</a>
          </li>
        
          <li>
            <a href="/2017/12/25/design_patterns_3/">设计模式三——结构型模式</a>
          </li>
        
          <li>
            <a href="/2017/12/25/gvim_config/">gvim常用插件的安装及配置</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 RoyceLee<br>
      Propulsé by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>